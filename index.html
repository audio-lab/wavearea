<!-- Main waveedit demo. See use-case. -->
<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AU</title>

<link href="./main.css" rel="stylesheet"/>

<body>
  <div class="waveedit">
    <div class="we-container">
      <div class="we-loader wavefont" :if="loading"
        :with="{id:null, str:''}"
        :="if (loading) id=setInterval(()=>str+='.', 50); else clearInterval(id), str = '';"
        :text="str"
      >...</div>
      <!-- <file-attachment class="we-file" :if="!wavURL" directory :onfile-attachment-accepted="e=>console.log(e)">
        <input type="file" multiple />
      </file-attachment> -->
      <div class="we-sizer wavefont" :text="waveform"></div>
      <textarea :ref="wavearea" :if="wavURL"
        class="we-wavearea wavefont" spellcheck="false" cols="540"
        :onfocus..onblur="trackCaret"
        :onkeydown="e=>e.preventDefault()"
        :value="waveform"
      ></textarea>
    </div>

    <audio :ref="audio" :if="wavURL" class="we-playback" controls :src="wavURL" :onplay..onpause="play"></audio>
  </div>

  <script async src="https://ga.jspm.io/npm:es-module-shims@1.6.2/dist/es-module-shims.js"></script>
  <!-- <script type="importmap">
    {
      "imports": {
        "node-wav": "/source/lib/node-wav.js",
        "sprae": "/node_modules/sprae/sprae.js",
        "kv-storage": "/node_modules/kv-storage-polyfill/dist/kv-storage-polyfill.mjs",
        "@github/file-attachment-element": "/node_modules/@github/file-attachment-element/dist/file-attachment-element.js"
      }
    }
  </script> -->
  <script type="module" src="./dist/waveplay.js"></script>
</body>