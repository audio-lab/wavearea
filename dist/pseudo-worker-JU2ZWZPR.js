import{a as P}from"./chunk-A576P2ZR.js";var F=P((exports,module)=>{function doEval(self,__pseudoworker_script){(function(){eval(__pseudoworker_script)}).call(global)}function PseudoWorker(p){var f=[],u=[],g=[],m=[],c=[],l=!1,v,t,s=this;function i(r,e){for(var n=-1;++n<r.length;)r[n]&&e(r[n])}function L(r){return function(e){e({type:"error",error:r,message:r.message})}}function k(r,e){r==="message"?f.push(e):r==="error"&&u.push(e)}function M(r,e){var n;if(r==="message")n=f;else if(r==="error")n=u;else return;for(var a=-1;++a<n.length;){var d=n[a];if(d===e){delete n[a];break}}}function h(r){var e=L(r);typeof s.onerror=="function"&&e(s.onerror),t&&typeof t.onerror=="function"&&e(t.onerror),i(u,e),i(m,e)}function E(r,e){function n(a){try{a({data:r,ports:e})}catch(d){h(d)}}t&&typeof t.onmessage=="function"&&n(t.onmessage),i(g,n)}function y(r,e){if(typeof r>"u")throw new Error("postMessage() requires an argument");if(!l){if(!v){c.push({msg:r,transfer:e||void 0});return}E(r,e)}}function w(){l=!0}function _(r){if(l)return;function e(n){n({data:r})}typeof s.onmessage=="function"&&e(s.onmessage),i(f,e)}function x(r,e){r==="message"?g.push(e):r==="error"&&m.push(e)}var o=new XMLHttpRequest;return o.open("GET",p),o.onreadystatechange=function(){if(o.readyState===4)if(o.status>=200&&o.status<400){v=o.responseText,t={postMessage:_,addEventListener:x,close:w},doEval(t,v);var r=c;c=[];for(var e=0;e<r.length;e++)E(r[e].msg,r[e].transfer)}else h(new Error("cannot find script "+p))},o.send(),s.postMessage=y,s.addEventListener=k,s.removeEventListener=M,s.terminate=w,s}module.exports=PseudoWorker});export default F();
//# sourceMappingURL=pseudo-worker-JU2ZWZPR.js.map
